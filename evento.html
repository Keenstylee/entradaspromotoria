<!DOCTYPE html>
<html class="dark scroll-smooth" lang="es">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Detalle del evento | Web-Eventos</title>

    <!-- Favicon emoji -->
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EüéüÔ∏è%3C/text%3E%3C/svg%3E"
    >

    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />

    <!-- Config b√°sica Tailwind -->
    <script>
      window.tailwind = { config: { future: {} } };
    </script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#5b13ec",
              "background-light": "#f6f6f8",
              "background-dark": "#161022",
            },
            fontFamily: {
              display: ["Plus Jakarta Sans", "system-ui", "sans-serif"],
            },
          },
        },
      };
    </script>

    <!-- Estilos adicionales -->
    <style>
      .detail-bg {
        background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.04' fill-rule='evenodd'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/svg%3E");
      }

      .detail-card {
        background:
          radial-gradient(circle at top left, rgba(91, 19, 236, 0.28), transparent 55%),
          radial-gradient(circle at bottom right, rgba(255, 255, 255, 0.06), transparent 55%),
          #161022;
        position: relative;
      }

      .detail-card::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 1rem;
        padding: 1px;
        background:
          radial-gradient(circle at top left, rgba(91, 19, 236, 0.55), transparent),
          radial-gradient(circle at bottom right, rgba(255, 255, 255, 0.25), transparent);
        -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0.45;
        pointer-events: none;
      }

      .badge-pill {
        box-shadow: 0 0 20px rgba(91, 19, 236, 0.45);
      }

      .tab-pill {
        transition: all 0.2s ease;
      }

      .tab-pill:hover {
        transform: translateY(-1px);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }

      /* Modal copiar c√≥digo */
      #modalCopiar {
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.25s ease;
      }

      #modalCopiarBox {
        opacity: 0;
        transform: scale(0.9) translateY(8px);
        transition: all 0.28s ease;
      }

      #modalCopiar.show {
        opacity: 1;
        pointer-events: auto;
      }

      #modalCopiar.show #modalCopiarBox {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    </style>
  </head>

<body class="bg-black text-white font-display">
    <div class="relative min-h-screen">
      <!-- Fondo textura -->
      <div class="absolute inset-0 detail-bg opacity-40 pointer-events-none"></div>

      <div class="relative z-10 flex min-h-screen flex-col">
        <!-- HEADER -->
        <header
          class="sticky top-0 z-20 border-b border-white/10 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm"
          role="banner"
        >
          <div
            class="container mx-auto flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8"
          >
            <!-- Marca + navegaci√≥n -->
            <div class="flex items-center gap-8">
              <!-- Marca -->
              <div class="flex items-center gap-3 text-black dark:text-white">
                <img
                  src="img/perfil/keenfest.JPEG"
                  alt="Keenfest"
                  class="h-9 w-9 rounded-full object-cover ring-2 ring-primary/40"
                />
                <div class="flex items-center gap-3">
                  <h1 class="flex items-center gap-1 text-base font-extrabold tracking-tight sm:text-lg">
                    Keenfest
                  </h1>
                  <div
                    class="flex items-center gap-1 rounded-full bg-green-600/20 px-2 py-1 text-xs font-semibold text-green-400 sm:text-sm"
                  >
                    <span class="material-symbols-outlined text-base">verified</span>
                    Promotor autorizado
                  </div>
                </div>
              </div>

              <!-- Nav desktop -->
              <nav
                class="hidden items-center gap-6 md:flex"
                aria-label="Navegaci√≥n principal"
              >
                <a
                  href="index.html#eventos"
                  class="text-sm font-medium text-black/70 transition-colors hover:text-primary dark:text-white/70 dark:hover:text-primary"
                  >Eventos</a
                >
                <a
                  href="index.html#testimonios"
                  class="text-sm font-medium text-black/70 transition-colors hover:text-primary dark:text-white/70 dark:hover:text-primary"
                  >Testimonios</a
                >
                <a
                  href="index.html#pruebas"
                  class="text-sm font-medium text-black/70 transition-colors hover:text-primary dark:text-white/70 dark:hover:text-primary"
                  >Pruebas</a
                >
                <a
                  href="index.html#quien-soy"
                  class="text-sm font-medium text-black/70 transition-colors hover:text-primary dark:text-white/70 dark:hover:text-primary"
                  >Qui√©n soy</a
                >
              </nav>
            </div>

            <!-- CTA + men√∫ m√≥vil -->
            <div class="flex items-center gap-3">
              <a
                href="https://wa.me/51968424445?text=Hola%2C%20quiero%20entradas%20con%20descuento"
                target="_blank"
                class="hidden h-10 items-center gap-2 rounded-lg bg-green-500 px-4 font-bold text-white transition hover:bg-green-600 sm:inline-flex"
                aria-label="Chatear por WhatsApp"
              >
                <span class="material-symbols-outlined text-base">chat</span>
                WhatsApp
              </a>

              <button
                id="mobile-menu-toggle"
                class="inline-flex h-10 w-10 items-center justify-center rounded-lg text-black transition hover:bg-white/10 dark:text-white md:hidden"
                aria-expanded="false"
                aria-controls="mobile-menu"
              >
                <span class="material-symbols-outlined" aria-hidden="true">menu</span>
                <span class="sr-only">Abrir men√∫</span>
              </button>
            </div>
          </div>

          <!-- Men√∫ m√≥vil -->
          <nav
            id="mobile-menu"
            class="hidden border-t border-white/10 bg-background-light dark:bg-background-dark md:hidden"
            aria-label="Navegaci√≥n m√≥vil"
          >
            <div class="flex flex-col gap-1 px-4 py-3">
              <a
                href="index.html#eventos"
                class="rounded px-1 py-2 text-sm font-medium text-black transition-colors hover:text-primary dark:text-white"
                >Eventos</a
              >
              <a
                href="index.html#testimonios"
                class="rounded px-1 py-2 text-sm font-medium text-black transition-colors hover:text-primary dark:text-white"
                >Testimonios</a
              >
              <a
                href="index.html#pruebas"
                class="rounded px-1 py-2 text-sm font-medium text-black transition-colors hover:text-primary dark:text-white"
                >Pruebas</a
              >
              <a
                href="index.html#quien-soy"
                class="rounded px-1 py-2 text-sm font-medium text-black transition-colors hover:text-primary dark:text-white"
                >Qui√©n soy</a
              >
              <a
                href="https://wa.me/51968424445?text=Hola%2C%20quiero%20entradas%20con%20descuento"
                target="_blank"
                class="mt-2 inline-flex h-10 items-center justify-center gap-2 rounded-lg bg-green-500 px-4 font-bold text-white transition hover:bg-green-600"
              >
                <span class="material-symbols-outlined text-base">chat</span>
                WhatsApp
              </a>
            </div>
          </nav>
        </header>

        <!-- MAIN -->
<main
  id="main"
  role="main"
  class="container mx-auto flex-grow px-4 py-6 sm:px-6 lg:px-8"
>

          <div id="evento-root"></div>
        </main>

        <!-- FOOTER -->
        <footer
          class="mt-auto border-t border-white/10 bg-background-dark/90 backdrop-blur-sm"
          role="contentinfo"
        >
          <div class="container mx-auto px-4 py-12 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 gap-8 text-white/70 md:grid-cols-4">
              <div class="md:col-span-2">
                <div class="mb-4 flex items-center gap-2 text-white">
                  <span class="material-symbols-outlined text-3xl text-primary"
                    >confirmation_number</span
                  >
                  <h2 class="text-xl font-bold">WEB-EVENTOS</h2>
                </div>
                <p class="max-w-md text-sm">
                  Tu acceso a eventos con entradas oficiales y beneficios especiales.  
                  ¬°No te pierdas ni un momento!
                </p>
              </div>

              <div>
                <h4 class="mb-4 text-lg font-bold text-white">Contacto</h4>
                <ul class="space-y-2 text-sm">
                  <li>
                    <a
                      href="mailto:Keenfest.pe@gmail.com"
                      class="flex items-center gap-2 transition-colors hover:text-primary"
                    >
                      <span class="material-symbols-outlined text-base">email</span>
                      Keenfest.pe@gmail.com
                    </a>
                  </li>
                  <li>
                    <a
                      href="tel:+51968424445"
                      class="flex items-center gap-2 transition-colors hover:text-primary"
                    >
                      <span class="material-symbols-outlined text-base">phone</span>
                      +51 968424445
                    </a>
                  </li>
                  <li>
                    <span class="flex items-center gap-2">
                      <span class="material-symbols-outlined text-base">location_on</span>
                      123 Calle Falsa, Ciudad G√≥tica
                    </span>
                  </li>
                </ul>
              </div>

              <div>
                <h4 class="mb-4 text-lg font-bold text-white">Redes Sociales</h4>
                <div class="flex space-x-4">
                  <a
                    href="https://www.instagram.com/keenfest/?hl=es"
                    target="_blank"
                    aria-label="Instagram"
                    class="text-white/70 transition-colors hover:text-primary"
                  >
                    <svg
                      class="h-6 w-6"
                      fill="currentColor"
                      viewBox="0 0 24 24"
                      aria-hidden="true"
                    >
                      <path
                        d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.07 4.85-.148 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM18.406 6.318a1.44 1.44 0 1 0 0 2.88 1.44 1.44 0 0 0 0-2.88zM12 7.838A4.162 4.162 0 1 0 16.162 12 4.167 4.167 0 0 0 12 7.838z"
                      />
                    </svg>
                  </a>
                  <a
                    href="https://www.tiktok.com/@keenfest"
                    target="_blank"
                    aria-label="TikTok"
                    class="text-white/70 transition-colors hover:text-primary"
                  >
                    <svg
                      class="h-6 w-6"
                      fill="currentColor"
                      viewBox="0 0 24 24"
                      aria-hidden="true"
                    >
                      <path
                        d="M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z"
                      />
                    </svg>
                  </a>
                </div>
              </div>
            </div>

            <div class="mt-8 border-t border-white/10 pt-6 text-center text-sm text-white/50">
              ¬© 2025 Web-Eventos. Todos los derechos reservados.
            </div>
          </div>
        </footer>
      </div>
    </div>

<<!-- BOT√ìN FLOTANTE WHATSAPP (NUEVO) -->
<a
  href="https://wa.me/51968424445?text=Hola%2C%20quiero%20comprar%20entradas"
  target="_blank"
  class="fixed bottom-5 right-5 z-[9999] flex items-center justify-center 
         h-14 w-14 rounded-full 
         bg-gradient-to-br from-[#25D366] to-[#1ebe55]
         shadow-xl shadow-black/40
         hover:scale-110 hover:shadow-2xl 
         transition-all duration-300"
  aria-label="WhatsApp"
>
  <svg viewBox="0 0 24 24" class="h-7 w-7 fill-white">
    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.472-.148-.67.149-.198.297-.768.966-.941 1.164-.173.199-.347.223-.644.075-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.521.149-.174.198-.298.298-.497.099-.198.05-.372-.025-.521-.075-.148-.669-1.612-.916-2.207-.242-.579-.487-.5-.67-.51-.173-.009-.372-.011-.571-.011-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.073.149.198 2.095 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.571-.347z"/>
    <path d="M12.004 2C6.49 2 2 6.491 2 12.006c0 2.113.617 4 1.688 5.625L2 22l4.5-1.644c1.55.85 3.316 1.322 5.12 1.322 5.515 0 10.005-4.49 10.005-10.006C21.625 6.49 17.136 2 12.004 2zm0 18.38c-1.58 0-3.128-.42-4.48-1.216l-.32-.19-2.67.975.915-2.743-.21-.337a8.347 8.347 0 1 1 6.765 4.51z"/>
  </svg>
</a>



<!-- SCRIPT L√ìGICA EVENTO -->

    <script type="module">
      import { events } from "./js/data/events.js";

      const isStr = (v) => typeof v === "string" && v.trim().length > 0;
      const isObj = (v) => v && typeof v === "object";

      function toYouTubeEmbed(url) {
        try {
          const u = new URL(url);
          if (u.hostname.includes("youtu.be")) {
            const id = u.pathname.slice(1);
            return id
              ? "https://www.youtube-nocookie.com/embed/" +
                  id +
                  "?rel=0&modestbranding=1"
              : url;
          }
          if (u.hostname.includes("youtube.com")) {
            const v = u.searchParams.get("v");
            if (v) {
              return (
                "https://www.youtube-nocookie.com/embed/" +
                v +
                "?rel=0&modestbranding=1"
              );
            }
            if (u.pathname.includes("/playlist") && u.searchParams.get("list")) {
              return (
                "https://www.youtube-nocookie.com/embed/videoseries?list=" +
                u.searchParams.get("list")
              );
            }
          }
          return url;
        } catch {
          return url;
        }
      }

      function normalizeYouTubeSources(youtubeProp) {
        if (!youtubeProp) return [];
        if (isStr(youtubeProp)) {
          return [{ title: "YouTube 1", url: youtubeProp.trim() }];
        }
        if (Array.isArray(youtubeProp)) {
          return youtubeProp
            .map((it, i) => {
              if (isStr(it)) {
                return { title: "YouTube " + (i + 1), url: it.trim() };
              }
              if (isObj(it) && isStr(it.url)) {
                return {
                  title: isStr(it.title) ? it.title.trim() : "YouTube " + (i + 1),
                  url: it.url.trim(),
                };
              }
              return null;
            })
            .filter(Boolean);
        }
        if (isObj(youtubeProp) && isStr(youtubeProp.url)) {
          return [
            {
              title: isStr(youtubeProp.title) ? youtubeProp.title.trim() : "YouTube 1",
              url: youtubeProp.url.trim(),
            },
          ];
        }
        return [];
      }

      function buildBadgeHtml(eventDateString) {
        const now = new Date();
        const eventDate = new Date(
          eventDateString.replace(
            /(\d{1,2}) de (\w+),? (\d{4})/,
            (m, day, month, year) => {
              const months = {
                enero: 0,
                febrero: 1,
                marzo: 2,
                abril: 3,
                mayo: 4,
                junio: 5,
                julio: 6,
                agosto: 7,
                septiembre: 8,
                octubre: 9,
                noviembre: 10,
                diciembre: 11,
              };
              return (
                year +
                "-" +
                String(months[month.toLowerCase()] + 1).padStart(2, "0") +
                "-" +
                String(day).padStart(2, "0")
              );
            }
          )
        );

        const diff = (eventDate - now) / (1000 * 60 * 60 * 24);
        let badgeLabel = "";
        let badgeColor = "";

        if (diff < -0.5) {
          badgeLabel = "Finalizado";
          badgeColor = "bg-red-600";
        } else if (Math.abs(diff) <= 0.5) {
          badgeLabel = "Hoy";
          badgeColor = "bg-yellow-500";
        } else {
          badgeLabel = "Pr√≥ximo evento";
          badgeColor = "bg-green-600";
        }

        return `
          <span class="badge-pill inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold text-white ${badgeColor}">
            <span class="material-symbols-outlined text-base">event</span>
            ${badgeLabel}
          </span>
        `;
      }

      function buildYouTubeBlock(ytItems) {
        if (!ytItems.length) return "";

        const first = ytItems[0];
        const embed0 = toYouTubeEmbed(first.url);
        const hasMultiple = ytItems.length > 1;

        const tabs = hasMultiple
          ? `
          <div class="mb-3 flex flex-wrap gap-2" id="detail-video-tabs">
            ${ytItems
              .map(
                (item, i) => `
              <button
                data-idx="${i}"
                class="tab-pill inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1 text-xs font-medium text-white/80 hover:border-white/40 hover:text-white ${
                  i === 0 ? "bg-white/10" : ""
                }"
              >
                ${item.title || "YouTube " + (i + 1)}
              </button>`
              )
              .join("")}
          </div>`
          : "";

        return `
          <section class="mt-10 space-y-3">
            <h3 class="flex items-center gap-2 text-lg font-bold text-white">
              <span class="material-symbols-outlined text-base text-primary">play_circle</span>
              Mira un set del artista
            </h3>
            ${tabs}
            <div class="relative overflow-hidden rounded-xl border border-white/10 bg-black/40">
              <div class="relative pt-[56.25%]">
                <iframe
                  id="detail-video"
                  class="absolute inset-0 h-full w-full rounded-xl"
                  src="${embed0}"
                  title="YouTube video player"
                  loading="lazy"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  referrerpolicy="strict-origin-when-cross-origin"
                  allowfullscreen
                ></iframe>
              </div>
            </div>
            <div>
              <a
                id="detail-video-open"
                href="${first.url}"
                target="_blank"
                rel="noopener"
                class="inline-flex items-center gap-2 text-sm text-white/80 underline decoration-white/30 hover:text-white"
              >
                <span class="material-symbols-outlined text-base">open_in_new</span>
                Ver en YouTube${first.title ? " ‚Äî " + first.title : ""}
              </a>
            </div>
          </section>
        `;
      }

      function wireYouTubeTabs(ytItems) {
        if (ytItems.length <= 1) return;
        const tabs = document.querySelectorAll("#detail-video-tabs .tab-pill");
        const iframe = document.getElementById("detail-video");
        const open = document.getElementById("detail-video-open");
        if (!tabs.length || !iframe || !open) return;

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => {
            tabs.forEach((t) => t.classList.remove("bg-white/10"));
            tab.classList.add("bg-white/10");

            const idx = parseInt(tab.dataset.idx || "0", 10);
            const item = ytItems[idx] || ytItems[0];

            iframe.src = toYouTubeEmbed(item.url);
            open.href = item.url;
            open.innerHTML = `
              <span class="material-symbols-outlined text-base">open_in_new</span>
              Ver en YouTube${item.title ? " ‚Äî " + item.title : ""}
            `;
          });
        });
      }

      // Obtener evento por ID
      const params = new URLSearchParams(window.location.search);
      const id = Number(params.get("id"));
      const evento = events.find((e) => e.id === id);
      const root = document.getElementById("evento-root");

      if (!evento) {
        root.innerHTML = `
<div class="flex justify-center mb-8 mt-2">
  <a
    href="index.html#eventos"
    class="group inline-flex items-center gap-3 px-5 py-3 rounded-full 
           bg-white/10 backdrop-blur-lg shadow-lg border border-white/10
           text-white font-medium text-sm
           hover:bg-white/20 hover:border-white/20 transition-all"
  >
    <div
      class="flex items-center justify-center h-7 w-7 rounded-full 
             bg-primary/20 border border-primary/40 
             group-hover:bg-primary/30 transition"
    >
      <span class="material-symbols-outlined text-primary text-base">
        arrow_back
      </span>
    </div>

    <span class="tracking-wide group-hover:underline">
      Volver a todos los eventos
    </span>
  </a>
</div>

          <div class="max-w-lg rounded-xl border border-red-500/40 bg-red-900/40 px-6 py-4 text-red-100">
            <p class="mb-1 text-lg font-semibold">Evento no encontrado</p>
            <p class="text-sm text-red-100/80">
              El enlace que abriste ya no es v√°lido o el evento fue eliminado.
            </p>
          </div>
        `;
      } else {
        const ytItems = normalizeYouTubeSources(evento.youtube);
        const badgeHtml = buildBadgeHtml(evento.date);
        const youtubeHtml = buildYouTubeBlock(ytItems);

        const whatsappMessage = encodeURIComponent(
          "Hola, quiero entradas para el evento: " +
            evento.title +
            " (" +
            evento.date +
            " en " +
            evento.location +
            ")."
        );
        const whatsappLink = "https://wa.me/51968424445?text=" + whatsappMessage;

        root.innerHTML = `
<div class="flex justify-center mt-4 mb-10">
<a
  href="index.html#eventos"
  class="group inline-flex items-center gap-2 px-4 py-2 rounded-full
         bg-white/15 backdrop-blur-xl
         border border-white/20
         text-white font-medium text-xs
         hover:bg-white/25 hover:border-white/30 transition-all duration-200"
>
    <!-- √çcono circular -->
    <div
      class="flex items-center justify-center h-6 w-6 rounded-full 
             bg-gradient-to-br from-primary/70 to-primary/40
             group-hover:scale-110 transition"
    >
      <span class="material-symbols-outlined text-white text-sm">
        arrow_back
      </span>
    </div>

    <span class="tracking-wide group-hover:underline">Volver a todos los eventos</span>
</a>

</div>


<section
  class="detail-card relative mx-auto max-w-6xl overflow-hidden rounded-2xl border border-white/10 px-5 py-7 sm:px-8 sm:py-9 lg:px-10"
>

            <div class="pointer-events-none absolute inset-0 opacity-40">
              <div class="absolute -top-24 -right-24 h-64 w-64 rounded-full bg-primary/30 blur-3xl"></div>
              <div class="absolute -bottom-24 -left-24 h-64 w-64 rounded-full bg-pink-500/20 blur-3xl"></div>
            </div>

            <div class="relative z-10 grid gap-6 lg:grid-cols-[minmax(0,1.6fr)_minmax(0,1.1fr)]">
              <!-- Columna izquierda: info principal -->
              <article class="space-y-5 text-white">
                <div class="flex flex-wrap items-center gap-3">
                  ${badgeHtml}

                </div>

                <h2 class="text-2xl font-extrabold leading-tight sm:text-3xl lg:text-4xl">
                  ${evento.title}
                </h2>

                <div class="space-y-2 text-sm text-white/80">
                  <p class="flex items-center gap-2">
                    <span class="material-symbols-outlined text-base text-primary">event</span>
                    <span>${evento.date}</span>
                  </p>
                  <p class="flex items-center gap-2">
                    <span class="material-symbols-outlined text-base text-primary">schedule</span>
                    <span>${evento.time || "Horario por confirmar"}</span>
                  </p>
                  <p class="flex items-start gap-2">
                    <span class="material-symbols-outlined mt-0.5 text-base text-primary">location_on</span>
                    <span>${evento.location}</span>
                  </p>
                </div>

                ${
                  evento.description
                    ? `
                  <div class="mt-4 space-y-2 text-sm leading-relaxed text-white/80">
                    <h3 class="text-sm font-semibold text-white/90">
                      Sobre el evento
                    </h3>
                    <p>${evento.description}</p>
                  </div>`
                    : ""
                }

                ${
                  evento.tags && evento.tags.length
                    ? `
                  <div class="mt-4 flex flex-wrap gap-2">
                    ${evento.tags
                      .map(
                        (tag) => `
                      <span
                        class="inline-flex items-center rounded-full bg-white/10 px-3 py-1 text-xs font-medium text-white/80"
                      >
                        #${tag}
                      </span>`
                      )
                      .join("")}
                  </div>`
                    : ""
                }

                ${youtubeHtml}
              </article>

              <!-- Columna derecha: entradas / promo -->
              <aside
                class="space-y-6 rounded-2xl border border-white/15 bg-black/35 p-5 sm:p-6"
              >
                ${
                  evento.id === 4
                    ? `
                <!-- BLOQUE ESPECIAL PREVENTA (ID 4) -->
                <div class="space-y-7 text-white">
                  <h3 class="flex items-center gap-2 text-xl font-extrabold">
                    <span class="material-symbols-outlined text-primary">sell</span>
                    Descuento exclusivo para esta preventa
                  </h3>

                  <div class="space-y-3 text-sm leading-relaxed">
                    <p>
                      Obt√©n un descuento especial comprando tus entradas desde Joinnus. Copia el
                      c√≥digo promocional y √∫salo en la secci√≥n
                      <strong>‚ÄúCanje / C√≥digo Promocional‚Äù</strong> antes de pagar.
                    </p>
                    <p class="font-semibold text-primary">
                      Beneficio exclusivo para usuarios que vienen desde esta p√°gina.
                    </p>
                  </div>

                  <!-- C√≥digo -->
                  <div
                    class="promo-code w-full rounded-xl bg-white py-5 text-center text-3xl font-extrabold tracking-[0.4em] text-[#0A1A3C] shadow-xl shadow-black/30 sm:text-4xl"
                  >
                    KEENFEST
                  </div>

                  <!-- Bot√≥n copiar -->
                  <button
                    id="copyPromo"
                    class="mx-auto block rounded-lg bg-green-500 px-8 py-3 text-base font-semibold text-white shadow-lg transition hover:bg-green-600"
                  >
                    Copiar c√≥digo
                  </button>

                  <!-- Instrucciones -->
                  <div
                    class="space-y-6 rounded-xl border border-white/10 bg-white/5 p-5 text-sm"
                  >
                    <p class="text-base font-bold text-white">C√≥mo usar tu descuento:</p>

                    <div class="flex items-start gap-4">
                      <span
                        class="flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-primary text-xs font-bold text-white shadow-lg shadow-primary/40"
                      >
                        1
                      </span>
                      <p>Copia el c√≥digo <span class="font-bold text-green-400">KEENFEST</span>.</p>
                    </div>

                    <div class="flex items-start gap-4">
                      <span
                        class="flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-primary text-xs font-bold text-white shadow-lg shadow-primary/40"
                      >
                        2
                      </span>
                      <p>Haz clic en uno de los botones de abajo para ir al evento en Joinnus.</p>
                    </div>

                    <div class="flex items-start gap-4">
                      <span
                        class="flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-primary text-xs font-bold text-white shadow-lg shadow-primary/40"
                      >
                        3
                      </span>
                      <p>
                        Pega el c√≥digo en
                        <strong>Canje / C√≥digo Promocional</strong> antes de pagar.
                      </p>
                    </div>
                  </div>

                  <!-- Botones Joinnus -->
                  <a
                    id="btnNormal"
                    href="#"
                    class="flex h-12 w-full items-center justify-center rounded-xl bg-[#FF5555] px-6 text-center text-sm font-extrabold text-white opacity-50 transition hover:bg-[#ff3333] pointer-events-none"
                  >
                    üéüÔ∏è Comprar Entradas Normales (Joinnus)
                  </a>

                  <a
                    id="btnBoxes"
                    href="#"
                    class="flex h-12 w-full items-center justify-center rounded-xl bg-[#0099FF] px-6 text-center text-sm font-extrabold text-white opacity-50 transition hover:bg-[#0077cc] pointer-events-none"
                  >
                    ü•Ç Comprar Boxes / Mesas (Joinnus)
                  </a>

                  <p class="mt-1 text-center text-xs text-white/60">
                    Debes copiar el c√≥digo antes de continuar.
                  </p>
                </div>
                `
                    : `
                <!-- OTROS EVENTOS: LISTA DE ENTRADAS + WHATSAPP -->
                ${
                  Array.isArray(evento.tickets) && evento.tickets.length
                    ? `
                <div class="space-y-3">
                  <h3 class="text-sm font-semibold uppercase tracking-[0.15em] text-white/60">
                    Entradas disponibles
                  </h3>
                  <div
                    id="tickets-scroll"
                    class="max-h-[260px] space-y-2 overflow-y-auto pr-1"
                  >
                    ${evento.tickets
                      .map(
                        (t) => `
                      <div
                        class="flex items-center justify-between rounded-lg border border-dashed border-white/18 bg-white/5 p-3 text-sm text-white transition-all duration-200 hover:border-primary hover:bg-primary/10"
                      >
                        <div class="flex items-start gap-3">
                          <span class="material-symbols-outlined text-2xl text-primary">
                            confirmation_number
                          </span>
                          <div>
                            <p class="font-semibold">${t.type}</p>
                            ${
                              t.description
                                ? `<p class="text-xs text-white/60">${t.description}</p>`
                                : ""
                            }
                          </div>
                        </div>
                        <span class="whitespace-nowrap text-sm font-bold">
                          ${
                            typeof t.price === "number" && t.price > 0
                              ? "S/ " + t.price.toFixed(2)
                              : "Consultar"
                          }
                        </span>
                      </div>`
                      )
                      .join("")}
                  </div>
                </div>
                `
                    : ""
                }

                <div class="space-y-3">
                  <a
                    href="${whatsappLink}"
                    target="_blank"
                    class="flex h-11 w-full items-center justify-center rounded-lg bg-green-500 px-6 text-sm font-bold text-white transition hover:bg-green-600"
                  >
                    Comprar entrada por WhatsApp
                  </a>

                  ${
                    evento.whatsappGroupUrl
                      ? `
                  <a
                    href="${evento.whatsappGroupUrl}"
                    target="_blank"
                    class="flex h-10 w-full items-center justify-center rounded-lg bg-green-600/10 px-4 text-xs font-bold text-green-300 ring-1 ring-inset ring-green-500/40 transition hover:bg-green-600/20"
                  >
                    <span class="material-symbols-outlined mr-2 text-base">group</span>
                    Unirme al grupo oficial del evento
                  </a>
                  `
                      : ""
                  }
                </div>
                `
                }
              </aside>
            </div>
          </section>
        `;

        if (ytItems.length > 1) {
          wireYouTubeTabs(ytItems);
        }

        // === L√ìGICA ESPECIAL PARA C√ìDIGO KEENFEST (ID 4) ===
        let codigoCopiado = false;
        const btnCopy = document.getElementById("copyPromo");
        const btnNormal = document.getElementById("btnNormal");
        const btnBoxes = document.getElementById("btnBoxes");
        const modal = document.getElementById("modalCopiar");

        if (btnCopy) {
          btnCopy.addEventListener("click", async () => {
            try {
              await navigator.clipboard.writeText("KEENFEST");
              codigoCopiado = true;

              btnCopy.textContent = "¬°Copiado!";
              btnCopy.classList.remove("bg-green-500");
              btnCopy.classList.add("bg-purple-600");

              if (btnNormal) {
                btnNormal.href =
                  "https://classic.joinnus.com/events/party/lima-cochi-la-ultima-cena-72979/canje";
                btnNormal.classList.remove("opacity-50", "pointer-events-none");
              }
              if (btnBoxes) {
                btnBoxes.href =
                  "https://classic.joinnus.com/events/concerts/lima-cochi-ultima-cena-boxes-72960/canje";
                btnBoxes.classList.remove("opacity-50", "pointer-events-none");
              }
            } catch {
              // Silencioso: si falla el portapapeles no rompemos nada
            }
          });
        }

        function bloquear(btn) {
          if (!btn || !modal) return;
          btn.addEventListener("click", (e) => {
            if (!codigoCopiado) {
              e.preventDefault();
              modal.classList.add("show");
              setTimeout(() => modal.classList.remove("show"), 1800);
            }
          });
        }

        bloquear(btnNormal);
        bloquear(btnBoxes);
      }

      // Men√∫ m√≥vil
      const btnMobile = document.getElementById("mobile-menu-toggle");
      const menu = document.getElementById("mobile-menu");

      if (btnMobile && menu) {
        btnMobile.addEventListener("click", () => {
          const hidden = menu.classList.toggle("hidden");
          btnMobile.setAttribute("aria-expanded", String(!hidden));
        });

        menu.addEventListener("click", (e) => {
          const link = e.target.closest("a");
          if (!link) return;
          if (!menu.classList.contains("hidden")) {
            menu.classList.add("hidden");
            btnMobile.setAttribute("aria-expanded", "false");
          }
        });
      }
    </script>

    <!-- MODAL Copiar c√≥digo -->
    <div
      id="modalCopiar"
      class="fixed inset-0 z-[999] flex items-center justify-center bg-black/60 backdrop-blur-sm"
    >
      <div
        id="modalCopiarBox"
        class="rounded-xl border border-white/20 bg-[#0A0A14]/90 px-7 py-4 text-sm font-medium text-white shadow-2xl"
      >
        <p class="text-center">
          Debes copiar el c√≥digo
          <span class="font-extrabold text-green-300">KEENFEST</span>
          antes de continuar.
        </p>
      </div>
    </div>
  </body>
</html>